{"mappings":"A,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,I,E,E,S,E,E,S,E,E,SCQA,SAAS,gBAAgB,CAAC,mBAAoB,KAE5C,IAAM,EAAS,SAAS,cAAc,CAAC,eACvC,EAAO,YAAY,CAAC,aAAc,CAAA,GAClC,EAAO,gBAAgB,CACrB,WACA,AAAC,IAEC,GAAI,CAAC,EAAM,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAc,OAEnD,IAAM,EAAe,EAAM,MAAM,CAAC,sBAAsB,CAAC,QAAQ,CAAC,EAAE,CAC9D,EAAU,AAAA,CAAA,EAAA,EAAA,OAAK,AAAL,EAAO,aAAa,CAAC,EAAM,MAAM,EAC7C,GACF,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,SAAS,CAAC,EAAc,GAC7B,EAAM,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,WAE3B,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,SAAS,CAAC,EAAc,IAC7B,EAAM,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,SAElC,EACA,CAAA,GAGF,EAAO,gBAAgB,CAAC,SAAU,MAAO,IACvC,EAAM,cAAc,GAEpB,IAAM,EAAQ,AAAA,CAAA,EAAA,EAAA,OAAK,AAAL,EAAO,YAAY,CAAC,GAC5B,EAAQ,SAAS,cAAc,CAAC,cAEtC,GAAK,EAIH,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,SAAS,CAAC,EAAO,QAJZ,CACV,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,SAAS,CAAC,EAAO,kCACtB,MACF,CAIA,IAAM,EAAW,EAAM,MAAM,CAAC,QAAQ,CAChC,EAAU,AAAA,CAAA,EAAA,EAAA,OAAK,AAAL,EAAO,SAAS,CAC9B,EAAS,IAAI,CAAC,KAAK,CACnB,EAAS,QAAQ,CAAC,KAAK,CACvB,EAAS,QAAQ,CAAC,KAAK,CACvB,EAAS,eAAe,CAAC,KAAK,EAG1B,EAAS,MAAM,AAAA,CAAA,EAAA,EAAA,OAAM,AAAN,EAAQ,UAAU,CAAC,GAExC,GAAI,EAAO,IAAI,CACb,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,SAAS,CAAC,EAAO,EAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,MAC7C,CACL,EAAO,KAAK,GACZ,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,SAAS,CAAC,EAAO,IAEtB,IAAM,EAAU,SAAS,cAAc,CAAC,iBACxC,AAAA,CAAA,EAAA,EAAA,OAAG,AAAH,EAAK,SAAS,CAAC,EACjB,CACF,EACF","sources":["<anon>","src/js/signup.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire9b17\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire9b17\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\n\n\n\nvar $6MoCM = parcelRequire(\"6MoCM\");\n\nvar $i9R9q = parcelRequire(\"i9R9q\");\n\nvar $17YkW = parcelRequire(\"17YkW\");\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    // Handle create user form submission\n    const signup = document.getElementById(\"signup-form\");\n    signup.setAttribute(\"novalidate\", true);\n    signup.addEventListener(\"focusout\", (event)=>{\n        // Only validated inputs with validated class\n        if (!event.target.classList.contains(\"validated\")) return;\n        const errorMessage = event.target.previousElementSibling.children[0];\n        const invalid = (0, $i9R9q.default).validateInput(event.target);\n        if (invalid) {\n            (0, $17YkW.default).showError(errorMessage, invalid);\n            event.target.classList.add(\"error\");\n        } else {\n            (0, $17YkW.default).showError(errorMessage, \"\");\n            event.target.classList.remove(\"error\");\n        }\n    }, true);\n    signup.addEventListener(\"submit\", async (event)=>{\n        event.preventDefault();\n        const valid = (0, $i9R9q.default).validateForm(signup);\n        const error = document.getElementById(\"form-error\");\n        if (!valid) {\n            (0, $17YkW.default).showError(error, \"Please complete form correctly\");\n            return;\n        } else (0, $17YkW.default).showError(error, \"\");\n        const elements = event.target.elements;\n        const newUser = (0, $i9R9q.default).buildUser(elements.name.value, elements.username.value, elements.password.value, elements.passwordConfirm.value);\n        const record = await (0, $6MoCM.default).createUser(newUser);\n        if (record.code) (0, $17YkW.default).showError(error, record.data.username.message);\n        else {\n            signup.reset();\n            (0, $17YkW.default).showError(error, \"\");\n            const success = document.getElementById(\"success-modal\");\n            (0, $17YkW.default).openModal(success);\n        }\n    });\n});\n\n\n//# sourceMappingURL=signup.fa595686.js.map\n","import '../styles/reset.css';\r\nimport '../styles/main.scss';\r\nimport '../styles/signup.scss';\r\n\r\nimport backend from './backend';\r\nimport helper from './helper';\r\nimport view from './view';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // Handle create user form submission\r\n  const signup = document.getElementById('signup-form');\r\n  signup.setAttribute('novalidate', true);\r\n  signup.addEventListener(\r\n    'focusout',\r\n    (event) => {\r\n      // Only validated inputs with validated class\r\n      if (!event.target.classList.contains('validated')) return;\r\n\r\n      const errorMessage = event.target.previousElementSibling.children[0];\r\n      const invalid = helper.validateInput(event.target);\r\n      if (invalid) {\r\n        view.showError(errorMessage, invalid);\r\n        event.target.classList.add('error');\r\n      } else {\r\n        view.showError(errorMessage, '');\r\n        event.target.classList.remove('error');\r\n      }\r\n    },\r\n    true\r\n  );\r\n\r\n  signup.addEventListener('submit', async (event) => {\r\n    event.preventDefault();\r\n\r\n    const valid = helper.validateForm(signup);\r\n    const error = document.getElementById('form-error');\r\n\r\n    if (!valid) {\r\n      view.showError(error, 'Please complete form correctly');\r\n      return;\r\n    } else {\r\n      view.showError(error, '');\r\n    }\r\n\r\n    const elements = event.target.elements;\r\n    const newUser = helper.buildUser(\r\n      elements.name.value,\r\n      elements.username.value,\r\n      elements.password.value,\r\n      elements.passwordConfirm.value\r\n    );\r\n\r\n    const record = await backend.createUser(newUser);\r\n\r\n    if (record.code) {\r\n      view.showError(error, record.data.username.message);\r\n    } else {\r\n      signup.reset();\r\n      view.showError(error, '');\r\n\r\n      const success = document.getElementById('success-modal');\r\n      view.openModal(success);\r\n    }\r\n  });\r\n});\r\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$6MoCM","$i9R9q","$17YkW","document","addEventListener","signup","getElementById","setAttribute","event","target","classList","contains","errorMessage","previousElementSibling","children","invalid","default","validateInput","showError","add","remove","preventDefault","valid","validateForm","error","elements","newUser","buildUser","name","value","username","password","passwordConfirm","record","createUser","data","message","reset","success","openModal"],"version":3,"file":"signup.fa595686.js.map"}